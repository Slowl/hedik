---
import Icon from 'astro-icon';

interface Props {
	title: string;
	pageUrl?: string;
	quantity?: number;
}

const { title, pageUrl, quantity } = Astro.props;
---

<section class='preview-section' id={`preview-section-${title}`}>
	<h2 class='section-title'>
		{title}
	</h2>
	<div class='section-content'>
		<div class='cards-container'>
			<slot />
		</div>
	</div>
	{quantity && quantity >= 3 ? (
		<a class='see-more' href={pageUrl} title={`see more ${title}`}>
			<Icon width='30px' height='30px' name='pixelarticons:chevron-right' />
		</a>
	) : <a class='see-more' href='#' title='see more' />}
</section>

<style>
	.preview-section {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: 5rem 0;
	}
	.section-title {
		font-size: var(--font-heading-small);
		font-weight: 400;
		text-orientation: mixed;
		writing-mode: vertical-lr;
		transform: rotate(180deg);
		letter-spacing: 10px;
	}
	.section-title:before {
		content: '';
		display: block;
		width: 15px;
		height: 5px;
		margin: auto;
		border-radius: 50px;
		background-color: var(--accent);
		transform: translateX(-5px);
	}
	.section-content {
		display: flex;
		justify-content: center;
		align-items: center;
		width: 80%;
	}
	.cards-container {
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		gap: var(--size-xl);
	}
	.see-more {
		display: flex;
		align-items: center;
		justify-content: center;
		position: relative;
		color: var(--black);
		transition: var(--transition-default);
		margin-left: 2rem;
	}
	.see-more:after {
		content: 'see more';
		display: block;
		position: absolute;
		left: 15px;
		font-size: var(--font-small);
		white-space:nowrap;
		opacity: 0;
		visibility: hidden;
		transition: var(--transition-default);
	}
	.see-more:hover {
		transform: translate(-10px);
		color: var(--white);
	}
	.see-more:hover:after {
		transform: translateX(-10px);
		color: var(--black);
		opacity: 1;
		visibility: visible;
	}
</style>
